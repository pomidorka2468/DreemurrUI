<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DreamUI – Chat Mode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/static/css/themes/stardust.css" id="themeStylesheet" />
  <link rel="stylesheet" href="/static/css/main.css" />
  <link rel="stylesheet" href="/static/css/chat.css" />
  <link rel="stylesheet" href="/static/css/notebook.css" />
  <link rel="stylesheet" href="/static/css/character.css" />
  <link rel="stylesheet" href="/static/css/model.css" />
  <link rel="stylesheet" href="/static/css/world.css" />
  <link rel="stylesheet" href="/static/css/archive.css" />
</head>
<body>
  <div class="app-shell" id="appShell">
    <!-- LEFT ICON BAR (hidden until opened) -->
    <aside class="sidebar" id="sidebar">
      <nav class="mode-list" id="modeList">
        <button class="mode-icon-btn mode-icon-active mode-chat" data-mode-id="chat" title="Chat Mode">
          <img src="/static/icons/chat.svg" alt="Chat" />
        </button>
        <button class="mode-icon-btn mode-notebook" data-mode-id="notebook" title="Notebook / Free Writing">
          <img src="/static/icons/pen.svg" alt="Notebook" />
        </button>
        <button class="mode-icon-btn mode-model" data-mode-id="model-choice" title="Model Choice">
          <img src="/static/icons/cube.svg" alt="Model Choice" />
        </button>
        <button class="mode-icon-btn mode-world" data-mode-id="world" title="World / Story Context">
          <img src="/static/icons/book.svg" alt="World" />
        </button>
        <button class="mode-icon-btn mode-archive" data-mode-id="archive" title="Archive">
          <img src="/static/icons/archive.svg" alt="Archive" />
        </button>
        <button class="mode-icon-btn mode-characters" data-mode-id="characters" title="Characters for Chat">
          <img src="/static/icons/character_info.svg" alt="Characters" />
        </button>
        <button class="mode-icon-btn mode-stats" data-mode-id="stats" title="App Info / Stats">
          <img src="/static/icons/info.svg" alt="Stats" />
        </button>
      </nav>
    </aside>

    <!-- MAIN AREA -->
    <main class="main">
      <header class="main-header">
        <div class="main-header-left">
          <div class="main-title-block">
            <div class="main-title" id="modeTitle">Chat Mode</div>
            <div class="main-title-sub" id="modeSubtitle">
              Ask questions, write ideas, and experiment with the model.
            </div>
          </div>
        </div>
      </header>

      <!-- Here we load the HTML for the current mode -->
      <section class="mode-container" id="modeContainer">
        <!-- chat.html / notebook.html etc. will be injected here -->
      </section>
    </main>
  </div>

  <script>
    // Cache-bust JS on every page load
    (function () {
      const cacheBust = Date.now();
      const scripts = ["main", "notebook", "character", "model", "world", "archive"];
      scripts.forEach((name) => {
        const s = document.createElement("script");
        s.src = `/static/js/${name}.js?${cacheBust}`;
        s.defer = false;
        document.body.appendChild(s);
      });
    })();
  </script>
</body>
</html>
