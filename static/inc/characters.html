<div class="char-layout">
  <section class="char-section">
    <label class="char-label" for="charSelect" data-lang="char.select">Character Select</label>
    <div class="char-row">
      <select id="charSelect" class="char-select"></select>
    </div>
    <div class="char-actions-row">
      <button class="btn char-ghost-btn" id="charSaveBtn" title="Save character" data-lang="char.save" data-lang-title="char.save_title">Save</button>
      <button class="btn char-ghost-btn" id="charLoadBtn" title="Load character for chat" data-lang="char.load" data-lang-title="char.load_title">Load</button>
      <button class="btn char-ghost-btn" id="charDeleteBtn" title="Delete character" data-lang="char.delete" data-lang-title="char.delete_title">ðŸ—‘</button>
      <button class="btn char-ghost-btn" id="charNewBtn" title="Create new character" data-lang-title="char.new_title" data-lang="char.new">New</button>
    </div>
  </section>

  <section class="char-section char-identity two-col">
    <div class="char-identity-header">
      <label class="char-label">Character</label>
    </div>
    <div class="char-field char-icon-field">
      <label class="char-label char-sr-only" data-lang="char.icon">Character Icon</label>
      <div class="char-icon-wrap">
        <div id="charIconPreview" class="char-icon-preview"></div>
        <div class="char-icon-menu" id="charIconMenu" role="dialog" aria-modal="false">
          <div class="char-icon-menu-preview" id="charIconMenuPreview"></div>
          <div class="char-icon-menu-actions">
            <button class="btn char-ghost-btn" type="button" id="charIconUploadBtn" data-lang="char.icon">Change icon</button>
            <a class="btn char-ghost-btn" id="charIconDownload" href="#" download="character-icon.png">Download</a>
            <button class="btn char-ghost-btn" type="button" id="charIconClose">Close</button>
          </div>
        </div>
        <input
          type="file"
          id="charIconFile"
          class="char-icon-input-hidden"
          accept=".png,.jpg,.jpeg,.gif"
          data-lang-title="char.icon_title"
          title="Pick icon"
          hidden
        />
      </div>
    </div>

    <div class="char-field char-meta-stack">
      <div class="char-field char-name-field">
        <label for="charName" class="char-label char-sr-only" data-lang="char.name">Character Name</label>
        <input
          id="charName"
          class="char-input"
          type="text"
          placeholder="Assistant"
          data-lang-placeholder="char.name_placeholder"
        />
      </div>

      <div class="char-inline-row">
        <div class="char-field char-mode-field">
          <label class="char-label char-sr-only" for="charModeChat" data-lang="char.mode">Character Mode</label>
          <div class="char-mode-toggle" id="charModeToggle" data-mode="chat" role="radiogroup" aria-label="Character mode">
            <button type="button" class="char-mode-choice" data-mode="chat" role="radio" aria-checked="true">
              <img src="/static/icons/chat.svg" alt="Chat" class="char-mode-icon" />
            </button>
            <button type="button" class="char-mode-choice" data-mode="roleplay" role="radio" aria-checked="false">
              <img src="/static/icons/roleplay.svg" alt="Roleplay" class="char-mode-icon" />
            </button>
          </div>
        </div>

        <div class="char-field char-gender-field">
          <label class="char-label char-sr-only" data-lang="char.gender">Gender</label>
          <div class="char-gender-toggle" id="charGenderToggle" data-gender="male" role="radiogroup" aria-label="Gender">
            <button type="button" class="char-gender-choice" data-gender="male" role="radio" aria-checked="true">
              <img src="/static/icons/male.svg" alt="Male" class="char-gender-icon" />
            </button>
            <button type="button" class="char-gender-choice" data-gender="female" role="radio" aria-checked="false">
              <img src="/static/icons/female.svg" alt="Female" class="char-gender-icon" />
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="char-section">
    <label for="charGreeting" class="char-label" data-lang="char.greeting">Greeting</label>
    <input
      id="charGreeting"
      class="char-input"
      type="text"
      placeholder="Hello there"
      data-lang-placeholder="char.greeting_placeholder"
    />
  </section>

  <section class="char-section">
    <label for="charPersonality" class="char-label" data-lang="char.personality">Personality / Memory</label>
    <div class="char-textarea-wrap">
      <textarea
        id="charPersonality"
        class="char-textarea"
        placeholder="Professional, subtle, creative writing."
        data-lang-placeholder="char.personality_placeholder"
      ></textarea>
      <span id="charTokenCount" class="char-token-count" data-lang="char.tokens">0 tokens</span>
    </div>
  </section>
</div>
